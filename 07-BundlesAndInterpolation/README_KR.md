# Bundles

## Stolen Messages

[알리스의 팬들은 그녀를 사랑하고, 그녀에게 많은 메일을 보내고 싶어 한다.]png)

앨리스는 팬들로부터 메일을 받는 떠오르는 유명인이다. 그들은 그녀에게 직접 편지를 보내곤 했다.

[판메일배드.rho] (판메일배드).rho)

그러나 그녀가 인기를 끌자 질투심 많은 경쟁자인 이브가 그녀의 우편물을 훔치기 시작했다. (이브가 첫번째 곱슬머리 세트 안에서 코드를 실행할 수 있다는 것을 상상하라.)

### Exercise
참가자가 우편물을 훔칠 수 있는 코드를 쓰십시오. 팡메일Eve.rho -->

문제는 경쟁자들이 앨리스가 들을 수 있는 같은 채널에서 들을 수 있다는 것이다. 그래서 그녀에게 정말 필요한 것은 그녀의 팬들이 "쓰기 전용 번들"을 갖는 것이다.

[판메일Publish.rho](판메일Publish.rho)

번들+ {*알리케FanMail}은(는) 수신되지 않고 on만 전송될 수 있다는 점을 제외하면 AliceFanMail과 같은 채널이다.

## Subscriptions
위의 번들 솔루션은 이브가 우편물을 훔치는 것을 막는데, 그것은 좋은 것이다. 하지만 블록체인 상황에서 앨리스는 팬메일 주소를 보내기 위해 돈을 지불해야 하는 불행한 부작용도 있다. 블록체인 수수료는 우편 요금과 약간 비슷하다.

![발송인은 이미 자기 자신에게 게시된 반송용 봉투를 포함한다].png)

### Exercises

앨리스는 팬들이 그녀에게 팬메일 주소를 요청하도록 함으로써 우편 요금을 절약할 수 있다. 그리고 나서 그들은 거래 비용을 지불해야 할 것이다. 우표를 붙여서 반송용 봉투를 보내는 것 같아.

그녀가 밥이 필요로 하는 주소를 얻을 수 있도록 앨리스의 코드를 완성해라.

정답:
[판메일Ask.rho](판메일Ask.rho)


예리한 독자들은 이제 이브가 팬메일 주소를 요청하는 메시지를 가로챌 수 있다는 것을 알게 될 것이다. 관찰력이 좋다. 보너스 연습으로 당신은 이브의 새로운 코드를 쓸 수 있다. (힌트: 이전 코드와 동일) 이 문제에 대한 해결책은 공개 키 암호화와 등록부를 포함한다. 우리는 나중에 그것에 대해 배울 것이다.

### Exercises
2과에서 우리 피자 가게는 앨리스와 비슷한 문제를 가지고 있었다. 그들이 새로운 고객을 쉽게 인수할 수 있도록 그 코드를 다시 만드세요.

## Jackpot

포수 한 명이 공을 던져서 잡아낸다.png)

나는 어렸을 때 잭팟이라는 게임을 하곤 했다. 한 선수가 공을 던지고 숫자를 외쳤다. 다른 선수들은 모두 공을 잡으려고 할 것이고, 공을 잡은 사람은 그 수의 점수를 받을 것이다.

대박을 터뜨리는 것은 팬레터를 보내는 것과 정반대다. 이전에 많은 팬들이 한 명의 연예인에게 보내왔다. 이제 던지는 사람이 한 명 있는데 많은 받는 사람 중 한 명에게

[jackpot.rho]rho)

누가 잭팟 코드에서 공을 잡을 것인가?
- [ ] 빌이 함정이 먼저니까.
그의 캐치 코드는 던 코드와 가장 가깝기 때문에 [ ] 빌.
- [ ] 페이지 마지막 캐치 코드라서.
- 우리는 모른다; 확실하지 않다.


### Exercise
운동: stdoutAck를 사용하여 각 사람이 공을 잡을 때 실제로 얼마나 많은 점수를 얻는지 표시하십시오.
<! -- 잭팟나이스프린팅.rho-->



Rholang에서의 이 게임은 한 공을 반복적으로 던지는 실제 게임과는 어떻게 다른가?
- [ ] 매우 정확한 시뮬레이션
- [x] Rholang에서는 모든 공이 동시에 던져지고 순서대로 잡힌다.
- [ ] Rholang에서 볼은 던져지는 것과 반대로 잡힌다.
- 홀랑빌에서 모든 걸 낚아채면, 페이지도 모든 걸 낚아챈다.

## Side bar: String
대부분의 프로그래밍 언어는 당신이 두 개의 문자열을 함께 결합하거나 "상호화"할 수 있도록 해주며, rholang도 예외가 아니다. 우리는 'stdout'할 수 있다.("안녕"++ "세계") 그러나 우리는 int와 문자열을 연결할 수 없다.

stdoutAk와 send certifications를 사용하는 것도 한 방법이다. 또 다른 옵션은 stdout 목록을 인쇄하는 것이다.("빌) 득점은 ", * 포인트"이다. 우리는 향후 수업에서 두 가지 기술에 대해 더 자세히 살펴볼 것이다.

마지막 옵션은 문자열 보간법을 사용하는 것이다. 문자열 보간법은 당신이 자리 표시자를 당신의 문자열에 넣고 지도를 사용하여 실제 값으로 대체할 수 있도록 해준다.

[interpolation.rho] (interpolation).rho)

당신은 어떻게 데이터 구조에 대한 12과에서 설정되는 지도가 무엇인지 더 배울 수 있다.

## Imposter throws

누구든지 따라와 가짜 공을 던짐으로써 이 게임을 망칠 수 있다는 것을 주목하라. 이것은 이브가 다가와 앨리스의 팬메일을 훔치는 것과 정반대되는 것이다.

100점짜리 가짜 공을 던지기 위해 이브는 어떤 코드를 사용해야 할까?
- (임포스터 <- 던짐){임포스터에 대해 [ ]!(100)}
- 던지기!(100)
- [ ] @"throw"!("100")


우리는 이 문제를 대중들이 던지는 채널에서만 읽을 수 있고, 그것에 글을 쓰는 것이 아니라는 것을 확실히 함으로써 해결한다.

[잭팟플리쉬.rho](잭팟플리쉬.rho)

이전처럼, 이 코드는 게임 진행자에게서 받은 모든 사람에게 돈을 지불하도록 요구한다. 그것은 리팩터링 되어 있어서 선수들은 우리가 앨리스와 그녀의 팬메일에서 했던 것처럼 그 게임에 가입해야만 한다.

## 공개 키 암호화

[이 보따리는 블록체인 세계에서는 봉인되어 있으나, 외부에서는 누구나 완전히 개봉할 수 있다. 블록체인 내에서 데이터가 제한을 벗어났다고 해서 그것이 정말로 사적인 것이 아니라는 것을 기억하라.](개인 이름).png)

어떤 면에서 읽기 전용 번들은 [public-key cryptography](https://en.wikipedia.org/wiki/Public-key_cryptography).의 서명 기능을 중복한다. 여기에 있는 잭팟캐쳐들은 공이 투어에서 온 것이라고 확신한다. 왜냐하면 그는 오직 암호화 서명과 같은 던지기 채널에서만 보낼 수 있기 때문이다.

어떤 면에서 쓰기 전용 번들은 공개 키 암호화의 암호화 기능을 복제한다. 오직 앨리스만이 그녀의 팬 메일 채널로 보낸 메시지를 받을 수 있다. **매우 중요한 차이점**은(는) 여기에 전송된 메시지가 블록체인 외부에서 100% 볼 수 있다는 것이다. 그래서 쓰기만 하는 번들이 용서할 수 없는 이름들을 전달하는 효과적인 방법이기는 하지만, 그들은 음모를 꾸미거나 정부의 감시를 피하는 좋은 방법이 아니다. **조심해!**

## More About Bundles

읽기 전용 번들과 쓰기 전용 번들에 더하여, 두 가지 다른 유형들이 또한 유용하다.

| 읽을 수 있다 | 쓸 수 있다.
| ------ | -------- | --------- |
| 번들- {proc} | 예스 | 노 |
| 버들+ {proc} | 아니오 | 예스 |
| 버들0 {proc} | 노 | 노 |
| 버들 {proc} | 예스 | 예스 |

당신은 당신이 보내거나 받을 수 없는 묶음이 왜 유용한지 궁금할 것이다. 우리가 지금까지 배운 것을 고려해 볼 때, 그것은 멋진 질문이다. 다음 유닛에서 패턴 매칭에 대해 논의할 때, 번들이 읽기 및 쓰기 기능을 제한하는 것 이상을 수행하는 것을 볼 수 있다. 그들은 또한 내부를 보기 위해 합성 이름을 분리하는 것을 막는다.