new result, P1, P2 in {

  // active gets its own scope so players can't change its value.
  new active in {
    active!(true)
    |
    for(_ <- active; _ <- P1) {
      for( _ <- P2) {
        result!("P2 Wins")
      }
    }
    |
    for(_ <- active; _ <- P2) {
      for (_ <- P1) {
        result!("P1 Wins")
      }
    }
  }
  |
  P1!(Nil)
  |
  P2!(Nil)
}
